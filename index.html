<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Coming Soon ‚Äî Merry Christmas ‚ùÑÔ∏è</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Noto+Sans+Thai:wght@400;700&family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}

body{
  background:radial-gradient(circle at top,#0f172a,#020617 70%);
  color:#fff;
  font-family:'Noto Sans','Noto Sans Thai','Noto Sans JP',system-ui;
  overflow:hidden;
}

body.newyear{
  background:radial-gradient(circle at center,#020617,#000);
  animation:newyearGlow 6s ease-in-out infinite;
}
@keyframes newyearGlow{
  0%,100%{filter:brightness(1)}
  50%{filter:brightness(1.15)}
}

canvas{position:fixed;inset:0;pointer-events:none}

.wrap{
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  flex-direction:column;text-align:center;
}

.line{
  font-size:clamp(42px,8.5vw,130px);
  font-weight:800;
  letter-spacing:0.04em;
  line-height:1.15;
  opacity:0;
  transform:translateY(20px) scale(0.98);
  filter:blur(6px);
  text-shadow:0 8px 30px rgba(0,0,0,.55);
  transition:opacity 0.9s ease, transform 0.9s cubic-bezier(.22,.61,.36,1), filter 0.9s ease;
}
.sub{
  font-size:clamp(20px,4.8vw,72px);
  font-weight:600;
  letter-spacing:0.02em;
  margin-top:12px;
  opacity:0;
  transform:translateY(26px) scale(0.985);
  filter:blur(6px);
  text-shadow:0 6px 22px rgba(0,0,0,.45);
  transition:opacity 1.05s ease, transform 1.05s cubic-bezier(.22,.61,.36,1), filter 1.05s ease;
}
.show .line,.show .sub{
  opacity:1;
  transform:translateY(0) scale(1);
  filter:blur(0);
}

/* üéÑ Message Box */
.message{
  position:fixed;bottom:20px;left:20px;width:300px;
  background:linear-gradient(135deg,#dc2626,#16a34a);
  border-radius:20px;padding:14px;z-index:20;
}
.message textarea{
  width:100%;
  height:82px;
  border:none;
  outline:none;
  resize:none;
  border-radius:12px;
  padding:12px;
  font-size:14px;
  line-height:1.4
}
.message button{
  margin-top:8px;width:100%;padding:8px;border:none;border-radius:12px;
  background:#fff;color:#b91c1c;font-weight:700;cursor:pointer
}

/* üéÅ Gift */
.gift{
  position:fixed;top:-50px;font-size:32px;animation:fall 6s linear infinite;
  cursor:pointer
}
@keyframes fall{to{transform:translateY(110vh)}}

/* üéÅ Opened gift message */
.gift-message{
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%) scale(0.7);
  background:linear-gradient(135deg,#fff,#fde68a);
  color:#b91c1c;
  padding:22px 26px;
  border-radius:22px;
  font-size:22px;
  font-weight:800;
  z-index:50;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
  animation:giftOpen 0.9s cubic-bezier(.22,.61,.36,1) forwards,
             giftFloat 4s ease-in-out infinite 0.9s;
}

@keyframes giftOpen{
  0%{opacity:0;transform:translate(-50%,-40%) scale(0.5) rotateX(60deg)}
  60%{opacity:1;transform:translate(-50%,-55%) scale(1.05) rotateX(0deg)}
  100%{opacity:1;transform:translate(-50%,-60%) scale(1)}
}

@keyframes giftFloat{
  0%,100%{transform:translate(-50%,-60%)}
  50%{transform:translate(-50%,-72%)}
}

/* üéÜ Countdown (BIG & CLEAR) */
.countdown{
  position:fixed;
  right:20px;
  bottom:20px;
  background:linear-gradient(135deg,#2563eb,#7c3aed,#db2777);
  padding:18px 22px;
  border-radius:24px;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
  z-index:25;
  min-width:260px;
}
.countdown h3{
  font-size:13px;
  letter-spacing:3px;
  text-align:center;
  opacity:.85;
  margin-bottom:10px
}
.countdown .time{
  display:flex;
  gap:10px;
  justify-content:center;
}
.countdown .box{
  background:rgba(0,0,0,.35);
  border-radius:14px;
  padding:10px 12px;
  min-width:60px;
}
.countdown .num{
  font-size:34px;
  font-weight:900;
  line-height:1
}
.countdown .label{
  font-size:11px;
  letter-spacing:1px;
  opacity:.8
}

/* üéÖ & ü¶å */ & ü¶å */
.character{position:fixed;top:15%;font-size:64px;animation:fly 18s linear infinite}
.santa{left:-80px}
.deer{right:-80px;animation-direction:reverse}
@keyframes fly{to{transform:translateX(calc(100vw + 160px))}}

/* üéµ Music */
.music-btn{position:fixed;top:20px;right:20px;width:52px;height:52px;border-radius:50%;border:none;background:rgba(255,255,255,.2);color:#fff;font-size:24px;cursor:pointer;z-index:30}
</style>
</head>
<body>
<canvas id="snow"></canvas>
<canvas id="fireworks"></canvas>

<audio id="bgm" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/12/14/audio_2f7b3f5b1a.mp3" type="audio/mpeg">
</audio>
<button class="music-btn" id="musicBtn">üéµ</button>

<div class="wrap" id="wrap">
  <div class="line" id="line">Coming Soon!</div>
  <div class="sub" id="sub">Merry Christmas ‚ùÑÔ∏è</div>
</div>

<div class="message">
  <textarea id="msg" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‚Ä¶ üíñ"></textarea>
  <button onclick="sendMsg()">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° üíå</button>
</div>

<div class="countdown" id="countdown">
  <h3>COUNTDOWN TO 2026</h3>
  <div class="time">
    <div class="box"><div class="num" id="cd-d">00</div><div class="label">DAYS</div></div>
    <div class="box"><div class="num" id="cd-h">00</div><div class="label">HRS</div></div>
    <div class="box"><div class="num" id="cd-m">00</div><div class="label">MIN</div></div>
    <div class="box"><div class="num" id="cd-s">00</div><div class="label">SEC</div></div>
  </div>
</div>

<div class="character santa">üéÖ</div>
<div class="character deer">ü¶å</div>

<script>
/* TEXT (separated by language & date-aware) */
const textSets = {
  en: {
    default: { line: 'Coming Soon!', sub: 'Merry Christmas ‚ùÑÔ∏è' },
    farewell2025: { line: 'Goodbye 2025 üëã', sub: 'See you in the New Year' },
    newyear: { line: 'Happy New Year 2026 üéÜ', sub: 'Welcome 2026' }
  },
  th: {
    default: { line: 'Coming Soon!', sub: '‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå‡∏°‡∏≤‡∏™ ‚ùÑÔ∏è' },
    farewell2025: { line: '‡∏•‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏µ 2025 üëã', sub: '‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏õ‡∏µ‡∏´‡∏ô‡πâ‡∏≤' },
    newyear: { line: '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà 2026 üéÜ', sub: '‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ï‡∏•‡∏≠‡∏î‡∏õ‡∏µ' }
  },
  jp: {
    default: { line: 'Coming Soon!', sub: '„É°„É™„Éº„ÇØ„É™„Çπ„Éû„Çπ ‚ùÑÔ∏è' },
    farewell2025: { line: '„Åï„Çà„ÅÜ„Å™„Çâ 2025 üëã', sub: 'Êñ∞„Åó„ÅÑÂπ¥„Åæ„Åß„ÅÇ„Å®Â∞ë„Åó' },
    newyear: { line: '„ÅÇ„Åë„Åæ„Åó„Å¶„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô 2026 üéÜ', sub: '„Çà„ÅÜ„Åì„Åù 2026 Âπ¥' }
  }
};

const languages = ['en','th','jp'];
let langIndex = 0;

const line = document.getElementById('line');
const sub  = document.getElementById('sub');
const wrap = document.getElementById('wrap');
let fireworksActive = false;  // small flag used by countdown to trigger celebration (kept minimal to match your file) 

function getPhase(){
  const now = new Date(new Date().toLocaleString('en-US',{timeZone:'Asia/Bangkok'}));
  const newYear = new Date('2026-01-01T00:00:00+07:00');
  const farewell = new Date('2025-12-30T00:00:00+07:00');

  if(now >= newYear) return 'newyear';
  if(now >= farewell) return 'farewell2025';
  return 'default';
}

function showText(){
  const lang = languages[langIndex];
  const phase = getPhase();
  const text = textSets[lang][phase];

  // smooth fade-out
  wrap.classList.remove('show');

  setTimeout(()=>{
    line.textContent = text.line;
    sub.textContent  = text.sub;

    // double RAF = ensure browser reflow for ultra-smooth transition
    requestAnimationFrame(()=>{
      requestAnimationFrame(()=>{
        wrap.classList.add('show');
      });
    });
  }, 500);

  langIndex = (langIndex + 1) % languages.length;
}

showText();
setInterval(showText, 4200);

/* MESSAGE */
let savedMsg='';
function sendMsg(){
 savedMsg=document.getElementById('msg').value.trim();
 if(!savedMsg) return;
}

/* GIFTS */
function spawnGift(){
 const g=document.createElement('div');
 g.className='gift';g.textContent='üéÅ';
 g.style.left=Math.random()*100+'vw';
 g.onclick=()=>openGift();
 document.body.appendChild(g);
 setTimeout(()=>g.remove(),6000);
}
setInterval(spawnGift,900);

function openGift(){
 if(!savedMsg) return;

 const box=document.createElement('div');
 box.className='gift-message';
 box.innerHTML = `üéÅ<br><span>${savedMsg}</span>`;
 document.body.appendChild(box);

 // sparkle particles
 for(let i=0;i<14;i++){
   const s=document.createElement('div');
   s.style.position='fixed';
   s.style.left='50%';
   s.style.top='50%';
   s.style.fontSize='20px';
   s.style.pointerEvents='none';
   s.textContent='‚ú®';
   document.body.appendChild(s);

   const angle=Math.random()*Math.PI*2;
   const dist=80+Math.random()*60;
   s.animate([
     {transform:'translate(-50%,-50%) scale(1)',opacity:1},
     {transform:`translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px) scale(0)`,opacity:0}
   ],{duration:900,easing:'ease-out'});

   setTimeout(()=>s.remove(),900);
 }

 setTimeout(()=>box.remove(),6000);
}

/* COUNTDOWN (Thailand Time ‚Äì BIG UI) */
function updateCountdown(){
  const now = new Date(new Date().toLocaleString('en-US',{timeZone:'Asia/Bangkok'}));
  const target = new Date('2026-01-01T00:00:00+07:00');
  const diff = target - now;

  if(diff <= 0){
    document.getElementById('countdown').innerHTML = '<h3>üéÜ HAPPY NEW YEAR 2026 üéÜ</h3>';
    document.body.classList.add('newyear');
    // set celebration flag ‚Äî minimal, does not add new effects unless already present
    fireworksActive = true;

    // gentle wrap pulse to emphasize transition
    if(wrap && wrap.animate){
      wrap.animate([
        {transform:'scale(1)', filter:'brightness(1)'},
        {transform:'scale(1.06)', filter:'brightness(1.2)'},
        {transform:'scale(1)', filter:'brightness(1)'}
      ],{duration:1200,easing:'ease-out'});
    }

    return;
  }

  const d = Math.floor(diff / 86400000);
  const h = Math.floor((diff % 86400000) / 3600000);
  const m = Math.floor((diff % 3600000) / 60000);
  const s = Math.floor((diff % 60000) / 1000);

  document.getElementById('cd-d').textContent = String(d).padStart(2,'0');
  document.getElementById('cd-h').textContent = String(h).padStart(2,'0');
  document.getElementById('cd-m').textContent = String(m).padStart(2,'0');
  document.getElementById('cd-s').textContent = String(s).padStart(2,'0');
}
setInterval(updateCountdown,1000);
updateCountdown();
updateCountdown();

/* üéÜ FIREWORKS (FULL POWER) */
const fw=document.getElementById('fireworks');
const fctx=fw.getContext('2d');
function resizeFW(){fw.width=innerWidth;fw.height=innerHeight}
addEventListener('resize',resizeFW);resizeFW();

let fireworksActive=false;
const particlesFW=[];

function launchFirework(){
  if(!fireworksActive) return;
  const x=Math.random()*fw.width;
  const y=Math.random()*fw.height*0.45;
  const colors=['#ff4d4d','#facc15','#22d3ee','#a78bfa','#fb7185','#34d399'];
  for(let i=0;i<120;i++){
    particlesFW.push({
      x,y,
      vx:(Math.random()-0.5)*8,
      vy:(Math.random()-0.5)*8,
      life:80,
      color:colors[Math.floor(Math.random()*colors.length)]
    });
  }
}

function animateFireworks(){
  fctx.clearRect(0,0,fw.width,fw.height);
  particlesFW.forEach((p,i)=>{
    p.x+=p.vx; p.y+=p.vy; p.vy+=0.02; p.life--;
    fctx.fillStyle=p.color;
    fctx.beginPath();
    fctx.arc(p.x,p.y,3,0,Math.PI*2);
    fctx.fill();
    if(p.life<=0) particlesFW.splice(i,1);
  });
  requestAnimationFrame(animateFireworks);
}
animateFireworks();
setInterval(launchFirework,700);

/* MUSIC */
const bgm=document.getElementById('bgm'),btn=document.getElementById('musicBtn');let playing=false;
btn.onclick=()=>{playing?bgm.pause():bgm.play();playing=!playing;btn.textContent=playing?'‚è∏Ô∏è':'üéµ'};

/* SNOW */
const c=document.getElementById('snow'),ctx=c.getContext('2d');let w,h,f=[];
function resize(){w=c.width=innerWidth;h=c.height=innerHeight;f=Array.from({length:200},()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*3+1,s:Math.random()+.5}))}
addEventListener('resize',resize);resize();
(function snow(){ctx.clearRect(0,0,w,h);ctx.fillStyle='white';f.forEach(o=>{ctx.beginPath();ctx.arc(o.x,o.y,o.r,0,Math.PI*2);ctx.fill();o.y+=o.s;if(o.y>h){o.y=0;o.x=Math.random()*w}});requestAnimationFrame(snow)})();
</script>
</body>
</html>
